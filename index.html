<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Cliente credencial</title>
<style>
	
input{

margin-bottom: 5px;
display:block; 
}


</style>

</head>
<body>
	<div id="wrapper">
		<form method="POST">
			<input type="email" id="email" placeholder="Email" />
			<input type="password" id="password" placeholder="ContraseÃ±a" />
			<input type="submit" id="login" value="ingresar" />
		</form>
	</div>

<script>
	(function () {

		'use strict';

		const clientId ='13';
		const clientSecret ='udFn2tFhcWJCaZr3rVkqKmKFPq6HSyjuRDYtyBxR';
		const grantType ='password';

		
		let login = document.getElementById('login');

		login.addEventListener('click',function(e){
			e.preventDefault();

			fetch('http://localhost:8000/oauth/token',{
					method:'POST',
					body:JSON.stringify({
						client_id:clientId,
						client_secret:clientSecret,
						grant_type:grantType,
						username:document.getElementById('email').value,
						password:document.getElementById('password').value
					}),
					headers:{'Content-Type': 'application/json'},

				})
			.then( response  => {
		        return response.json();
		        
		    	})
/**
		        .then (data => console.log(data))
		
});*/
		 .then (data => {

		        	localStorage.setItem('token',data.access_token)	
		

			
		})
		 });

})();





</script>

	

            



        
</html>